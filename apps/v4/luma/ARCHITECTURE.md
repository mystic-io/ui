# System Architecture Overview

## ğŸ—ï¸ Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         LUMA REVERSE ENGINEERING SYSTEM                  â”‚
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    INPUT: https://luma.com/style-guide           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â”‚                                         â”‚
â”‚                                â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ PHASE 1: RECONNAISSANCE & EXTRACTION                             â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  â€¢ Playwright/Puppeteer scraping                                 â”‚   â”‚
â”‚  â”‚  â€¢ CSS extraction (colors, typography, spacing)                  â”‚   â”‚
â”‚  â”‚  â€¢ Component identification                                      â”‚   â”‚
â”‚  â”‚  â€¢ Screenshot capture (all states)                               â”‚   â”‚
â”‚  â”‚  â€¢ Asset harvesting (fonts, icons, images)                       â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  OUTPUT: luma-extracted-data.json                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â”‚                                         â”‚
â”‚                                â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ PHASE 2: FOUNDATION                                              â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  â€¢ Initialize Vite + React + TypeScript                          â”‚   â”‚
â”‚  â”‚  â€¢ Install shadcn/ui + Radix UI primitives                       â”‚   â”‚
â”‚  â”‚  â€¢ Configure Tailwind CSS                                        â”‚   â”‚
â”‚  â”‚  â€¢ Setup Storybook 8                                             â”‚   â”‚
â”‚  â”‚  â€¢ Generate design tokens from extracted data                    â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  OUTPUT: Project structure + Design tokens                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â”‚                                         â”‚
â”‚                                â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ PHASE 3: COMPONENT CONSTRUCTION                                  â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  FOR EACH COMPONENT:                                             â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚   â”‚
â”‚  â”‚   â”‚ 1. Analyze extracted data                           â”‚       â”‚   â”‚
â”‚  â”‚   â”‚ 2. Select appropriate Radix primitive               â”‚       â”‚   â”‚
â”‚  â”‚   â”‚ 3. Generate TypeScript component                    â”‚       â”‚   â”‚
â”‚  â”‚   â”‚ 4. Apply extracted styles with Tailwind             â”‚       â”‚   â”‚
â”‚  â”‚   â”‚ 5. Implement all variants                           â”‚       â”‚   â”‚
â”‚  â”‚   â”‚ 6. Add accessibility attributes                     â”‚       â”‚   â”‚
â”‚  â”‚   â”‚ 7. Create Storybook story                           â”‚       â”‚   â”‚
â”‚  â”‚   â”‚ 8. Write unit tests                                 â”‚       â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  OUTPUT: 40+ components with stories and tests                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â”‚                                         â”‚
â”‚                                â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ PHASE 4: STORYBOOK DOCUMENTATION                                 â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  â€¢ Build Storybook static site                                   â”‚   â”‚
â”‚  â”‚  â€¢ Generate component documentation                              â”‚   â”‚
â”‚  â”‚  â€¢ Create usage examples                                         â”‚   â”‚
â”‚  â”‚  â€¢ Link to Luma originals                                        â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  OUTPUT: Interactive component gallery                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â”‚                                         â”‚
â”‚                                â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ PHASE 5: TESTING & VALIDATION                                    â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚   â”‚
â”‚  â”‚  â”‚ Unit Tests   â”‚  â”‚ Visual Tests â”‚  â”‚ A11y Tests   â”‚          â”‚   â”‚
â”‚  â”‚  â”‚ (Vitest)     â”‚  â”‚ (Playwright) â”‚  â”‚ (axe-core)   â”‚          â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚
â”‚  â”‚          â”‚                  â”‚                  â”‚                 â”‚   â”‚
â”‚  â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚   â”‚
â”‚  â”‚                             â”‚                                    â”‚   â”‚
â”‚  â”‚  OUTPUT: Test results + Coverage reports                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â”‚                                         â”‚
â”‚                                â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ PHASE 6: COMPARISON & VALIDATION                                 â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
â”‚  â”‚  â”‚ Luma Component          Our Component               â”‚        â”‚   â”‚
â”‚  â”‚  â”‚ (Screenshot)            (Screenshot)                â”‚        â”‚   â”‚
â”‚  â”‚  â”‚       â”‚                       â”‚                     â”‚        â”‚   â”‚
â”‚  â”‚  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚        â”‚   â”‚
â”‚  â”‚  â”‚                   â”‚                                 â”‚        â”‚   â”‚
â”‚  â”‚  â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚        â”‚   â”‚
â”‚  â”‚  â”‚           â”‚ Pixelmatch     â”‚                        â”‚        â”‚   â”‚
â”‚  â”‚  â”‚           â”‚ Comparison     â”‚                        â”‚        â”‚   â”‚
â”‚  â”‚  â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚        â”‚   â”‚
â”‚  â”‚  â”‚                   â”‚                                 â”‚        â”‚   â”‚
â”‚  â”‚  â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚        â”‚   â”‚
â”‚  â”‚  â”‚           â”‚ Diff Image +   â”‚                        â”‚        â”‚   â”‚
â”‚  â”‚  â”‚           â”‚ Match %        â”‚                        â”‚        â”‚   â”‚
â”‚  â”‚  â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚        â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  OUTPUT: comparison-results.json + diff images                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â”‚                                         â”‚
â”‚                                â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ PHASE 7: DOCUMENTATION & REPORTING                               â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  â€¢ Generate validation report                                    â”‚   â”‚
â”‚  â”‚  â€¢ Create component comparison gallery                           â”‚   â”‚
â”‚  â”‚  â€¢ Document differences                                          â”‚   â”‚
â”‚  â”‚  â€¢ Calculate accuracy metrics                                    â”‚   â”‚
â”‚  â”‚  â€¢ Produce recommendations                                       â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  OUTPUT: REVERSE_ENGINEERING_REPORT.md                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â”‚                                         â”‚
â”‚                                â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    VALIDATION GATE                                â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚           Is Overall Accuracy >= 100%?                            â”‚   â”‚
â”‚  â”‚                      â”‚                                            â”‚   â”‚
â”‚  â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚   â”‚
â”‚  â”‚           â”‚                     â”‚                                â”‚   â”‚
â”‚  â”‚         YES                    NO                                â”‚   â”‚
â”‚  â”‚           â”‚                     â”‚                                â”‚   â”‚
â”‚  â”‚           â–¼                     â–¼                                â”‚   â”‚
â”‚  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚   â”‚
â”‚  â”‚     â”‚SUCCESS! â”‚        â”‚ Refine & Retry â”‚                       â”‚   â”‚
â”‚  â”‚     â”‚ Deploy  â”‚        â”‚ (Loop back to  â”‚                       â”‚   â”‚
â”‚  â”‚     â”‚         â”‚        â”‚  Phase 3)      â”‚                       â”‚   â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚   â”‚
â”‚  â”‚                                 â”‚                                â”‚   â”‚
â”‚  â”‚                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚   â”‚
â”‚  â”‚                                                  â”‚               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                     â”‚                   â”‚
â”‚                                     (Iterate until 100% match)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Data Flow

```
Luma Website
     â”‚
     â”œâ”€â–º HTML/CSS Extraction
     â”‚        â”‚
     â”‚        â”œâ”€â–º Colors
     â”‚        â”œâ”€â–º Typography
     â”‚        â”œâ”€â–º Spacing
     â”‚        â”œâ”€â–º Components
     â”‚        â””â”€â–º Animations
     â”‚
     â”œâ”€â–º Screenshot Capture
     â”‚        â”‚
     â”‚        â””â”€â–º Baseline Images
     â”‚
     â””â”€â–º Asset Harvesting
              â”‚
              â”œâ”€â–º Fonts
              â”œâ”€â–º Icons
              â””â”€â–º Images
```

## ğŸ§© Component Generation Pipeline

```
Extracted Data
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Component Spec  â”‚
â”‚                 â”‚
â”‚ â€¢ Name          â”‚
â”‚ â€¢ Variants      â”‚
â”‚ â€¢ Styles        â”‚
â”‚ â€¢ States        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Radix Primitive â”‚ â—„â”€â”€ Select appropriate primitive
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TypeScript Comp â”‚ â—„â”€â”€ Generate with CVA variants
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tailwind Styles â”‚ â—„â”€â”€ Apply extracted styles
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Storybook Story â”‚ â—„â”€â”€ Document all variants
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Test Suite      â”‚ â—„â”€â”€ Unit + Visual + A11y
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§ª Testing Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Test Pyramid                       â”‚
â”‚                                                    â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                    â”‚  E2E â”‚ (Playwright)           â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚                  â”‚Integrationâ”‚                     â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚              â”‚  Visual Regressionâ”‚ (Chromatic)     â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚          â”‚   Component Tests      â”‚ (Vitest)       â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚      â”‚      Unit Tests              â”‚              â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Comparison Algorithm

```
FOR each component:
  1. Capture Luma screenshot (baseline)
  2. Capture our screenshot (candidate)
  3. Run pixelmatch comparison:
     â€¢ Pixel-by-pixel RGB difference
     â€¢ Threshold: 0 (exact match required)
     â€¢ Generate diff image
  4. Extract CSS properties:
     â€¢ Computed styles for all elements
     â€¢ Compare property-by-property
  5. Test interactions:
     â€¢ Hover states
     â€¢ Active states
     â€¢ Focus states
     â€¢ Disabled states
  6. Validate accessibility:
     â€¢ ARIA attributes
     â€¢ Keyboard navigation
     â€¢ Screen reader output
  7. Calculate match percentage:
     Match % = (matching_pixels / total_pixels) * 100
  8. Record results:
     â€¢ Pass if Match % >= 99.99%
     â€¢ Otherwise flag for refinement
```

## ğŸ¯ Validation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Validation Checkpoint                    â”‚
â”‚                                                  â”‚
â”‚  Component: Button                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Visual Match:         âœ… 100.00%   â”‚          â”‚
â”‚  â”‚ CSS Properties:       âœ… 100.00%   â”‚          â”‚
â”‚  â”‚ Hover State:          âœ… Pass      â”‚          â”‚
â”‚  â”‚ Active State:         âœ… Pass      â”‚          â”‚
â”‚  â”‚ Focus State:          âœ… Pass      â”‚          â”‚
â”‚  â”‚ Disabled State:       âœ… Pass      â”‚          â”‚
â”‚  â”‚ Keyboard Nav:         âœ… Pass      â”‚          â”‚
â”‚  â”‚ Screen Reader:        âœ… Pass      â”‚          â”‚
â”‚  â”‚ ARIA Attributes:      âœ… Pass      â”‚          â”‚
â”‚  â”‚ Console Errors:       âœ… 0         â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                  â”‚
â”‚  Overall Status: âœ… PASS                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—‚ï¸ File Organization

```
luma-design-system/
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ ui/
â”‚   â”‚       â”œâ”€â”€ button.tsx          â—„â”€â”€ Component implementation
â”‚   â”‚       â”œâ”€â”€ button.stories.tsx  â—„â”€â”€ Storybook documentation
â”‚   â”‚       â”œâ”€â”€ button.test.tsx     â—„â”€â”€ Test suite
â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ tokens/
â”‚   â”‚   â”œâ”€â”€ colors.ts               â—„â”€â”€ Extracted color palette
â”‚   â”‚   â”œâ”€â”€ typography.ts           â—„â”€â”€ Font scales
â”‚   â”‚   â”œâ”€â”€ spacing.ts              â—„â”€â”€ Spacing system
â”‚   â”‚   â”œâ”€â”€ animations.ts           â—„â”€â”€ Animation timings
â”‚   â”‚   â””â”€â”€ shadows.ts              â—„â”€â”€ Shadow definitions
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â””â”€â”€ utils.ts                â—„â”€â”€ Utility functions (cn, etc.)
â”‚   â”‚
â”‚   â””â”€â”€ styles/
â”‚       â”œâ”€â”€ globals.css             â—„â”€â”€ Global styles
â”‚       â””â”€â”€ tokens.css              â—„â”€â”€ CSS custom properties
â”‚
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ visual/                     â—„â”€â”€ Visual regression tests
â”‚   â”œâ”€â”€ interaction/                â—„â”€â”€ Interaction tests
â”‚   â”œâ”€â”€ a11y/                       â—„â”€â”€ Accessibility tests
â”‚   â””â”€â”€ unit/                       â—„â”€â”€ Unit tests
â”‚
â”œâ”€â”€ comparison/
â”‚   â”œâ”€â”€ screenshots/
â”‚   â”‚   â”œâ”€â”€ luma/                   â—„â”€â”€ Baseline screenshots
â”‚   â”‚   â”œâ”€â”€ ours/                   â—„â”€â”€ Our screenshots
â”‚   â”‚   â””â”€â”€ diff/                   â—„â”€â”€ Diff images
â”‚   â””â”€â”€ reports/
â”‚       â”œâ”€â”€ css-comparison.json     â—„â”€â”€ CSS diff report
â”‚       â””â”€â”€ validation-results.json â—„â”€â”€ Overall results
â”‚
â”œâ”€â”€ .storybook/                     â—„â”€â”€ Storybook config
â”œâ”€â”€ playwright.config.ts            â—„â”€â”€ Playwright config
â”œâ”€â”€ vitest.config.ts                â—„â”€â”€ Vitest config
â””â”€â”€ tailwind.config.js              â—„â”€â”€ Tailwind config
```

## ğŸ”§ Technology Stack Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Application Layer                   â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Components â”‚  â”‚ Storybook  â”‚  â”‚   Tests    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Component Library Layer                â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ shadcn/ui  â”‚  â”‚ Radix UI   â”‚  â”‚    CVA     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Styling Layer                       â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Tailwind   â”‚  â”‚ CSS Vars   â”‚  â”‚   Tokens   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Framework Layer                      â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   React    â”‚  â”‚ TypeScript â”‚  â”‚    Vite    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ Execution Timeline

```
Start
  â”‚
  â”œâ”€â–º [0-10min]   Phase 1: Reconnaissance
  â”‚                â€¢ Extract Luma data
  â”‚                â€¢ Capture screenshots
  â”‚
  â”œâ”€â–º [10-25min]  Phase 2: Foundation  
  â”‚                â€¢ Setup project
  â”‚                â€¢ Install dependencies
  â”‚                â€¢ Generate tokens
  â”‚
  â”œâ”€â–º [25-4h]     Phase 3: Construction
  â”‚                â€¢ Build all components
  â”‚                â€¢ Create stories
  â”‚                â€¢ Write tests
  â”‚
  â”œâ”€â–º [4h-4h15m]  Phase 4: Storybook
  â”‚                â€¢ Build documentation
  â”‚                â€¢ Start dev server
  â”‚
  â”œâ”€â–º [4h15m-5h]  Phase 5: Testing
  â”‚                â€¢ Run all test suites
  â”‚                â€¢ Generate coverage
  â”‚
  â”œâ”€â–º [5h-5h30m]  Phase 6: Comparison
  â”‚                â€¢ Compare with Luma
  â”‚                â€¢ Generate diffs
  â”‚
  â””â”€â–º [5h30m-6h]  Phase 7: Reporting
                   â€¢ Create final report
                   â€¢ Summarize results
```

## ğŸ¯ Success Criteria Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Validation Decision Tree                     â”‚
â”‚                                                      â”‚
â”‚              Component Complete?                     â”‚
â”‚                     â”‚                                â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚        NO                       YES                  â”‚
â”‚         â”‚                        â”‚                   â”‚
â”‚         â–¼                        â–¼                   â”‚
â”‚   Continue Building      Run Validation             â”‚
â”‚         â”‚                        â”‚                   â”‚
â”‚         â”‚                        â–¼                   â”‚
â”‚         â”‚               Visual Match 100%?           â”‚
â”‚         â”‚                        â”‚                   â”‚
â”‚         â”‚                â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚         â”‚               NO               YES         â”‚
â”‚         â”‚                â”‚                â”‚          â”‚
â”‚         â”‚                â–¼                â–¼          â”‚
â”‚         â”‚         Adjust Styles    CSS Match 100%?   â”‚
â”‚         â”‚                â”‚                â”‚          â”‚
â”‚         â”‚                â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”     â”‚
â”‚         â”‚                â”‚       NO           YES    â”‚
â”‚         â”‚                â”‚        â”‚            â”‚     â”‚
â”‚         â”‚                â”‚        â–¼            â–¼     â”‚
â”‚         â”‚                â”‚   Fix CSS   Interactions  â”‚
â”‚         â”‚                â”‚                Match 100%?â”‚
â”‚         â”‚                â”‚                    â”‚      â”‚
â”‚         â”‚                â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”    â”‚
â”‚         â”‚                â”‚           NO        YES   â”‚
â”‚         â”‚                â”‚            â”‚         â”‚    â”‚
â”‚         â”‚                â”‚            â–¼         â–¼    â”‚
â”‚         â”‚                â”‚      Fix Logic   A11y 100%â”‚
â”‚         â”‚                â”‚                      â”‚    â”‚
â”‚         â”‚                â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”  â”‚
â”‚         â”‚                â”‚             NO        YES â”‚
â”‚         â”‚                â”‚              â”‚         â”‚  â”‚
â”‚         â”‚                â”‚              â–¼         â–¼  â”‚
â”‚         â”‚                â”‚         Fix A11y    PASS! â”‚
â”‚         â”‚                â”‚              â”‚         â”‚  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  â”‚
â”‚                          â”‚                        â”‚  â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

*Architecture designed for zero-tolerance, autonomous execution*
